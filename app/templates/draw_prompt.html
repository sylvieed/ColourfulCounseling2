{% extends "layout.html" %}
{% block content %}
<audio loop src="{{ url_for('static', filename='violet.mp3') }}" autoplay></audio>
    <h1 class="title">New Journal Entry for Drawing</h1>
            <img src="{{ url_for('static', filename='journal.gif') }}">
            <h3 class = "title">Use this Prompt or Click for a New One</h3>
            <form action="{{ url_for('draw_prompt') }}" method="POST">
                <button type="submit" class="btn btn-primary btn-lg button" name="button" value="generate_prompt">Generate</button>
                <input type="hidden" name="prompt" value="{{ prompt }}">
              </form>              
            <div id="output">
                {% if prompt %}
                    <h4>{{ prompt }}</h4>
                {% endif %}
            </div>
            <script>
                function printOutput() {
                  var url = "{{ url_for('draw_prompt') }}?_=" + new Date().getTime();
                  fetch(url)
                    .then(response => response.text())
                    .then(prompt => {
                      document.getElementById("output").innerHTML = "<h4>" + prompt + "</h4>";
                    });
                }
                </script>
                
        <div class="col buttons">
            <button class="slide-button button" onclick="window.location.href = '{{ url_for('draw') }}'">Draw</button>
            <button class="slide-button button" onclick="window.location.href = '{{ url_for('upload') }}'">Upload</button>
        </div>
{% endblock %}
